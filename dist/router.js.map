{"version":3,"sources":["config.ts","router.ts"],"names":[],"mappings":";AAEa,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,OAAkB,CAC7B,SAAU,CACR,KAAM,KACN,QAAS,KAEX,MAAO,CACL,SAAU,CACR,QAAS,eACT,KAAM,kCAER,OAAQ,CACN,UAAW,2BAGf,UAAW,CACT,MAAO,GACP,UAAW;;ACiDf,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAhEA,IAAA,EAAA,QAAA,YAEA,EAAA,WAQE,SAAA,EAAa,GACN,KAAA,OAAS,EAAK,QAAU,EAAA,OACxB,KAAA,OAAS,EAAK,OACd,KAAA,SAAU,EAEf,OAAO,eAAe,KAAM,WAAY,CACtC,IAAK,WACI,MAAA,CACL,KAAM,OAAO,SAAS,KACtB,KAAM,OAAO,SAAS,OAG1B,IAAK,SAAC,GACJ,OAAO,QAAQ,UAAU,KAAM,KAAM,MAuC7C,OAlCE,EAAA,UAAA,MAAA,WACM,KAAK,SACH,KAAK,QAAU,KAAK,OAAO,YACxB,KAAA,OAAO,WAAW,CACrB,OAAQ,KACR,SAAU,KAAK,SACf,SAAU,KAAK,YAMvB,EAAA,UAAA,MAAA,WACO,KAAK,UACJ,KAAK,QAAU,KAAK,OAAO,SACxB,KAAA,OAAO,QAAQ,CAClB,OAAQ,OAGZ,OAAO,iBAAiB,aAAc,KAAK,SAI/C,EAAA,UAAA,KAAA,WACM,KAAK,UACF,KAAA,SAAU,EACX,KAAK,QAAU,KAAK,OAAO,QACxB,KAAA,OAAO,OAAO,CACjB,OAAQ,OAGZ,OAAO,oBAAoB,aAAc,KAAK,SAGpD,EA5DA,GA8DA,OAAO,QAAU","file":"router.js","sourceRoot":"../src","sourcesContent":["import { IConfig } from './interfaces/config';\n\nexport const Config: IConfig = {\n  settings: {\n    hash: '#!',\n    timeout: 5000\n  },\n  regex: {\n    settings: {\n      default: /[a-zA-Z0-9]/g,\n      href: /(www|http:|https:)+[^\\s]+[\\w]/g,\n    },\n    routes: {\n      variables: /(:(?!qargs)[a-zA-Z]*)/g\n    }\n  },\n  intervals: {\n    start: 10,\n    fragments: 250\n  }\n};\n","import { IRouterClient, IRouterTools, IRouterArgs, IRouter } from './interfaces/router';\nimport { IRouterLocation } from './interfaces/event';\nimport { IConfig } from './interfaces/config';\nimport { Config } from './config';\n\nclass Router implements IRouter {\n  public config: IConfig;\n  public location: IRouterLocation;\n  public previous: IRouterLocation;\n  public tools: IRouterTools;\n  public running: boolean;\n  public client?: IRouterClient;\n\n  constructor (args: IRouterArgs) {\n    this.config = args.config || Config;\n    this.client = args.client;\n    this.running = false;\n\n    Object.defineProperty(this, 'location', {\n      get: () => {\n        return {\n          hash: window.location.hash,\n          href: window.location.href\n        };\n      },\n      set: (location: string) => {\n        window.history.pushState(null, null, location);\n      }\n    });\n  }\n\n  watch () {\n    if (this.running) {\n      if (this.client && this.client.onNavigate) {\n        this.client.onNavigate({\n          router: this,\n          location: this.location,\n          previous: this.previous,\n        });\n      }\n    }\n  }\n\n  start () {\n    if (!this.running) {\n      if (this.client && this.client.onStart) {\n        this.client.onStart({\n          router: this,\n        });\n      }\n      window.addEventListener('hashchange', this.watch);\n    }\n  }\n\n  stop () {\n    if (this.running) {\n      this.running = false;\n      if (this.client && this.client.onStop) {\n        this.client.onStop({\n          router: this,\n        });\n      }\n      window.removeEventListener('hashchange', this.watch);\n    }\n  }\n}\n\nmodule.exports = Router;\n"]}